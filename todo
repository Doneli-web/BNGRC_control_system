# TODO LIST BNGRC - R√âPARTITION PAR FONCTIONNALIT√â COMPL√àTE
**Projet Final S3 - F√©vrier 2026**  
**Dur√©e VERSION 1 : 1h20 (80 minutes)**  
**Technologie : Flight PHP, MySQL**

---

## üéØ PRINCIPE DE R√âPARTITION

Chaque personne prend **UNE FONCTIONNALIT√â COMPL√àTE** de A √† Z :
- ‚úÖ Base de donn√©es (ses tables)
- ‚úÖ Model (toutes les fonctions n√©cessaires)
- ‚úÖ Controller (toutes les routes API)
- ‚úÖ Routes Flight PHP
- ‚úÖ Int√©gration Frontend (HTML/JS/API)
- ‚úÖ Affichage final fonctionnel

**R√©sultat** : 3 modules ind√©pendants et complets en 1h20 !

---

## üìä R√âSUM√â DE LA R√âPARTITION

| Personne | Fonctionnalit√© | Temps total | Livrables |
|----------|---------------|-------------|-----------|
| **DONELI** | üèôÔ∏è **Gestion des VILLES & R√âGIONS** | 80 min | Module complet Villes |
| **ITOKIANA** | üì¶ **Gestion des BESOINS** | 80 min | Module complet Besoins |
| **BRANDON** | üéÅ **Gestion des DONS** | 80 min | Module complet Dons |

---

## üë§ DONELI - MODULE VILLES & R√âGIONS
**Fonctionnalit√© : Gestion compl√®te des villes et r√©gions**  
**Dur√©e totale : 80 minutes**

### üìÖ PLANNING D√âTAILL√â

#### ‚è±Ô∏è 0-15 min : BASE DE DONN√âES
**Objectif : Cr√©er les tables n√©cessaires**

```sql
-- √Ä cr√©er dans l'ordre :
[OK] Cr√©er DATABASE BNGRC (2 min)
[OK] Table BNGRC_region (5 min)
    - id INT PRIMARY KEY AUTO_INCREMENT
    - name VARCHAR(100) NOT NULL
    
[OK] Table BNGRC_ville (5 min)
    - id INT PRIMARY KEY AUTO_INCREMENT
    - name VARCHAR(100) NOT NULL
    - idRegion INT NOT NULL
    - FOREIGN KEY (idRegion) REFERENCES BNGRC_region(id)
    
[OK] INSERT donn√©es initiales (3 min)
    - R√©gions : Analamanga, Atsinanana, Vakinankaratra
    - Villes : Antananarivo, Toamasina, Antsirabe, Mahajanga
```

#### ‚è±Ô∏è 15-40 min : MODELS (25 min)
**Objectif : Cr√©er les classes Model**

**Fichier : `models/RegionModel.php`** (10 min)
```php
[OK] class RegionModel
[OK] __construct($db) - 1 min
[OK] findAll() - SELECT * FROM BNGRC_region - 3 min
[OK] findById($id) - SELECT avec WHERE - 2 min
[OK] addRegion($name) - INSERT - 2 min
[OK] Tests de base - 2 min
```

**Fichier : `models/VilleModel.php`** (15 min)
```php
[OK] class VilleModel
[OK] __construct($db) - 1 min
[OK] findAll() - SELECT * FROM BNGRC_ville - 2 min
[OK] findById($id) - SELECT avec WHERE - 2 min
[OK] addVille($name, $idRegion) - INSERT - 2 min
[OK] findVilleWithRegion() - SELECT avec JOIN - 5 min
[OK] getVilleStats() - COUNT besoins/dons par ville - 3 min
```

#### ‚è±Ô∏è 40-55 min : CONTROLLERS & ROUTES (15 min)
**Objectif : Cr√©er les endpoints API**

**Fichier : `controllers/VilleController.php`** (15 min)
```php
[OK] class VilleController - 1 min
[OK] __construct() - 1 min

[OK] GET /api/regions - getRegions() - 2 min
[OK] GET /api/regions/:id - getRegionById($id) - 2 min
[OK] POST /api/regions - addRegion() - 2 min

[OK] GET /api/villes - getVilles() - 2 min
[OK] GET /api/villes/:id - getVilleById($id) - 2 min
[OK] POST /api/villes - addVille() - 2 min
[OK] GET /api/villes/stats - getVilleStats() - 3 min
```

**Fichier : `routes.php`** (inclus ci-dessus)
```php
[ ] Flight::route('GET /api/regions', ...) - dans le temps controller
[ ] Flight::route('GET /api/villes', ...)
[ ] etc.
```

#### ‚è±Ô∏è 55-80 min : FRONTEND (25 min)
**Objectif : Page fonctionnelle Villes**

**Fichier : `villes.html` (modification)** (25 min)
```javascript
[ ] Fonction loadRegions() - appel API - 3 min
[ ] Fonction loadVilles() - appel API avec stats - 5 min
[ ] Affichage dynamique des villes avec cartes - 7 min
[ ] Formulaire ajout ville avec select r√©gion - 5 min
[ ] Fonction addVille() - POST API - 3 min
[ ] Tests et ajustements - 2 min
```

### ‚úÖ LIVRABLES DONELI
- [x] Tables region + ville cr√©√©es et remplies
- [x] RegionModel fonctionnel
- [x] VilleModel fonctionnel avec stats
- [x] 7 routes API op√©rationnelles
- [x] Page villes.html enti√®rement fonctionnelle
- [x] Affichage des villes avec leurs statistiques

---

## üë§ ITOKIANA - MODULE BESOINS
**Fonctionnalit√© : Gestion compl√®te des besoins**  
**Dur√©e totale : 80 minutes**

### üìÖ PLANNING D√âTAILL√â

#### ‚è±Ô∏è 0-15 min : BASE DE DONN√âES
**Objectif : Cr√©er les tables n√©cessaires**

```sql
-- √Ä cr√©er dans l'ordre :
[ ] Table BNGRC_typeDon (5 min)
    - id INT PRIMARY KEY AUTO_INCREMENT
    - name VARCHAR(50) NOT NULL
    
[ ] Table BNGRC_article (5 min)
    - id INT PRIMARY KEY AUTO_INCREMENT
    - name VARCHAR(100) NOT NULL
    - idType INT NOT NULL
    - prix_unitaire DECIMAL(10,2) NOT NULL
    - FOREIGN KEY (idType) REFERENCES BNGRC_typeDon(id)
    
[ ] Table BNGRC_besoin (3 min)
    - id INT PRIMARY KEY AUTO_INCREMENT
    - idVille INT NOT NULL
    - idArticle INT NOT NULL
    - quantite DECIMAL(10,2) NOT NULL
    - date_de_saisie DATETIME DEFAULT CURRENT_TIMESTAMP
    - FOREIGN KEY (idVille) REFERENCES BNGRC_ville(id)
    - FOREIGN KEY (idArticle) REFERENCES BNGRC_article(id)
    
[ ] INSERT donn√©es initiales (2 min)
    - Types : nature, materiel, argent
    - Articles : Riz (5000), Huile (12000), T√¥les (25000), etc.
```

#### ‚è±Ô∏è 15-40 min : MODELS (25 min)
**Objectif : Cr√©er les classes Model**

**Fichier : `models/TypeDonModel.php`** (8 min)
```php
[ ] class TypeDonModel
[ ] __construct($db) - 1 min
[ ] findAll() - SELECT * FROM BNGRC_typeDon - 2 min
[ ] findById($id) - SELECT avec WHERE - 2 min
[ ] addType($name) - INSERT - 2 min
[ ] Tests - 1 min
```

**Fichier : `models/ArticleModel.php`** (10 min)
```php
[ ] class ArticleModel
[ ] __construct($db) - 1 min
[ ] findAll() - SELECT * FROM BNGRC_article - 2 min
[ ] findById($id) - SELECT avec WHERE - 2 min
[ ] findByType($idType) - SELECT avec WHERE - 2 min
[ ] addArticle($name, $idType, $prix) - INSERT - 2 min
[ ] Tests - 1 min
```

**Fichier : `models/BesoinModel.php`** (7 min - d√©j√† fait ‚úÖ)
```php
[ ] class BesoinModel
[ ] V√©rifier et compl√©ter si n√©cessaire - 2 min
[ ] findAllWithDetails() - SELECT avec JOIN multiple - 3 min
      (besoin + ville + article + type)
[ ] getBesoinsByVille($idVille) - SELECT avec WHERE - 2 min
```

#### ‚è±Ô∏è 40-55 min : CONTROLLERS & ROUTES (15 min)
**Objectif : Cr√©er les endpoints API**

**Fichier : `controllers/BesoinController.php`** (15 min)
```php
[ ] class BesoinController - 1 min
[ ] __construct($besoinModel, $articleModel, $typeModel) - 1 min

[ ] GET /api/types - getTypes() - 2 min
[ ] GET /api/articles - getArticles() - 2 min
[ ] GET /api/articles/type/:id - getArticlesByType($id) - 2 min

[ ] GET /api/besoins - getBesoins() - 2 min
[ ] GET /api/besoins/:id - getBesoinById($id) - 2 min
[ ] POST /api/besoins - addBesoin() - 2 min
[ ] DELETE /api/besoins/:id - deleteBesoin($id) - 2 min
[ ] GET /api/besoins/ville/:id - getBesoinsByVille($id) - 2 min
```

#### ‚è±Ô∏è 55-80 min : FRONTEND (25 min)
**Objectif : Page fonctionnelle Besoins**

**Fichier : `besoins.html` (modification)** (25 min)
```javascript
[ ] Fonction loadTypes() - appel API - 2 min
[ ] Fonction loadArticles(idType) - appel API dynamique - 3 min
[ ] Fonction updateArticleOptions() - modification - 2 min
[ ] Fonction loadBesoins() - appel API avec d√©tails - 5 min
[ ] Affichage tableau avec toutes les infos (JOIN) - 5 min
[ ] Formulaire ajout besoin connect√© API - 4 min
[ ] Fonction addBesoin() - POST API - 2 min
[ ] Fonction deleteBesoin(id) - DELETE API - 2 min
```

### ‚úÖ LIVRABLES ITOKIANA
- [x] Tables typeDon + article + besoin cr√©√©es et remplies
- [x] TypeDonModel fonctionnel
- [x] ArticleModel fonctionnel
- [x] BesoinModel avec requ√™tes complexes
- [x] 8 routes API op√©rationnelles
- [x] Page besoins.html enti√®rement fonctionnelle
- [x] CRUD complet sur les besoins

---

## üë§ BRANDON - MODULE DONS
**Fonctionnalit√© : Gestion compl√®te des dons**  
**Dur√©e totale : 80 minutes**

### üìÖ PLANNING D√âTAILL√â

#### ‚è±Ô∏è 0-15 min : BASE DE DONN√âES + CONFIG
**Objectif : Table don + Configuration projet**

```sql
-- √Ä cr√©er :
[ ] Table BNGRC_don (5 min)
    - id INT PRIMARY KEY AUTO_INCREMENT
    - idArticle INT NOT NULL
    - quantite DECIMAL(10,2) NOT NULL
    - date_de_saisie DATETIME DEFAULT CURRENT_TIMESTAMP
    - donateur VARCHAR(200)
    - type_donateur VARCHAR(50)
    - statut VARCHAR(50) DEFAULT 'en_attente'
    - FOREIGN KEY (idArticle) REFERENCES BNGRC_article(id)
    
[ ] INSERT donn√©es de test (2 min)


```

**Configuration Flight PHP** (8 min)
```php
[ ] Fichier index.php - initialisation Flight - 2 min
[ ] Fichier config/database.php - connexion MySQL - 3 min (ok)
[ ] Inclusion des routes et models - 2 min
[ ] Test connexion - 1 min (ok)
```

#### ‚è±Ô∏è 15-35 min : MODEL (20 min)
**Objectif : Cr√©er DonModel complet**

**Fichier : `models/DonModel.php`** (20 min)
```php
[ ] class DonModel - 1 min
[ ] __construct($db) - 1 min (OK)
[ ] getAll() - SELECT * FROM BNGRC_don - 2 min (OK)
[ ] getById($id) - SELECT avec WHERE - 2 min (OK)
[ ] addDon($idArticle, $quantite, $donateur, $type) - INSERT - 3 min (OK)
[ ] findAllWithDetails() - SELECT avec JOIN (don + article + type) - 5 min (OK)
[ ] getDonsByStatut($statut) - SELECT avec WHERE - 2 min (OK)
[ ] updateStatut($id, $statut) - UPDATE - 2 min (OK)
[ ] getStatistiques() - COUNT, SUM par statut - 3 min (OK)
[ ] Tests - 2 min
```

#### ‚è±Ô∏è 35-50 min : CONTROLLER & ROUTES (15 min)
**Objectif : Cr√©er les endpoints API**

**Fichier : `controllers/DonController.php`** (15 min)
```php
[ ] class DonController - 1 min
[ ] __construct($donModel, $articleModel) - 1 min (OK)

[ ] GET /api/dons - getDons() - 2 min
[ ] GET /api/dons/:id - getDonById($id) - 2 min
[ ] POST /api/dons - addDon() - 3 min
      (validation compl√®te des donn√©es)
[ ] GET /api/dons/statut/:statut - getDonsByStatut($statut) - 2 min
[ ] PUT /api/dons/:id/statut - updateStatut($id) - 2 min
[ ] GET /api/dons/stats - getStatistiques() - 2 min
[ ] Tests Postman/curl - 1 min
```

#### ‚è±Ô∏è 50-80 min : FRONTEND (30 min)
**Objectif : Page fonctionnelle Dons + Dashboard**

**Fichier : `dons.html` (modification)** (20 min)
```javascript
[ ] Fonction loadArticles() - appel API - 2 min
[ ] Fonction loadDons() - appel API avec d√©tails - 4 min
[ ] Affichage tableau complet avec infos JOIN - 5 min
[ ] Formulaire ajout don connect√© API - 4 min
[ ] Fonction addDon() - POST API - 2 min
[ ] Filtres par statut - appel API - 2 min
[ ] Affichage statistiques (stat boxes) - 3 min
```

**Fichier : `index.html` (modification Dashboard)** (10 min)
```javascript
[ ] Fonction loadDashboardData() - 3 min
      - Appel API villes/stats
      - Appel API besoins
      - Appel API dons
[ ] Calcul et affichage statistiques globales - 4 min
[ ] Affichage cartes villes avec donn√©es r√©elles - 3 min
```

### ‚úÖ LIVRABLES BRANDON
- [x] Table don cr√©√©e et remplie
- [x] Configuration Flight PHP compl√®te
- [x] DonModel avec fonctions avanc√©es
- [x] 6 routes API op√©rationnelles
- [x] Page dons.html enti√®rement fonctionnelle
- [x] Dashboard mis √† jour avec vraies donn√©es
- [x] CRUD complet sur les dons

---

## üîÑ SYNCHRONISATION & TRAVAIL EN PARALL√àLE

### üìç Point de sync 1 : T+20 min (apr√®s 20 min)
**V√©rification rapide base de donn√©es**
- Chacun montre ses tables cr√©√©es
- Validation que tout est OK
- 2 minutes max

### üìç Point de sync 2 : T+45 min (apr√®s 45 min)
**V√©rification Models**
- Chacun teste une fonction de son Model
- Partage des probl√®mes √©ventuels
- 3 minutes max

### üìç Point de sync 3 : T+60 min (apr√®s 1h)
**V√©rification API**
- Chacun teste une route avec Postman
- Validation que les r√©ponses JSON sont correctes
- 3 minutes max

### üìç Point de sync 4 : T+75 min (avant la fin)
**Tests crois√©s**
- Test rapide des pages des autres
- Derniers ajustements
- 5 minutes

---

## ‚öôÔ∏è CONFIGURATION COMMUNE (√Ä FAIRE ENSEMBLE - 5 MIN AU D√âBUT)

**Fichier : `config/database.php`**
```php
<?php
class Database {
    private $host = "localhost";
    private $db_name = "BNGRC";
    private $username = "root";
    private $password = "";
    public $conn;

    public function getConnection() {
        $this->conn = null;
        try {
            $this->conn = new PDO(
                "mysql:host=" . $this->host . ";dbname=" . $this->db_name,
                $this->username,
                $this->password
            );
            $this->conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
        } catch(PDOException $e) {
            echo "Erreur: " . $e->getMessage();
        }
        return $this->conn;
    }
}
```

**Fichier : `index.php`** (Brandon le cr√©e, les autres l'utilisent)
```php
<?php
require 'vendor/autoload.php';
require 'config/database.php';

// CORS
header('Access-Control-Allow-Origin: *');
header('Access-Control-Allow-Methods: GET, POST, PUT, DELETE');
header('Access-Control-Allow-Headers: Content-Type');

// Initialisation
$db = new Database();
$conn = $db->getConnection();

// Routes - chacun ajoute les siennes
require 'routes/ville_routes.php';     // Doneli
require 'routes/besoin_routes.php';    // Itokiana
require 'routes/don_routes.php';       // Brandon

Flight::start();
```

---

## üìÇ STRUCTURE DES FICHIERS

```
bngrc-backend/
‚îú‚îÄ‚îÄ index.php                    # Brandon - Point d'entr√©e
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ database.php            # Brandon - Config DB
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ RegionModel.php         # Doneli
‚îÇ   ‚îú‚îÄ‚îÄ VilleModel.php          # Doneli
‚îÇ   ‚îú‚îÄ‚îÄ TypeDonModel.php        # Itokiana
‚îÇ   ‚îú‚îÄ‚îÄ ArticleModel.php        # Itokiana
‚îÇ   ‚îú‚îÄ‚îÄ BesoinModel.php         # Itokiana
‚îÇ   ‚îî‚îÄ‚îÄ DonModel.php            # Brandon
‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îú‚îÄ‚îÄ VilleController.php     # Doneli
‚îÇ   ‚îú‚îÄ‚îÄ BesoinController.php    # Itokiana
‚îÇ   ‚îî‚îÄ‚îÄ DonController.php       # Brandon
‚îî‚îÄ‚îÄ routes/
    ‚îú‚îÄ‚îÄ ville_routes.php        # Doneli
    ‚îú‚îÄ‚îÄ besoin_routes.php       # Itokiana
    ‚îî‚îÄ‚îÄ don_routes.php          # Brandon

bngrc-frontend/
‚îú‚îÄ‚îÄ index.html                   # Brandon modifie
‚îú‚îÄ‚îÄ villes.html                  # Doneli modifie
‚îú‚îÄ‚îÄ besoins.html                 # Itokiana modifie
‚îú‚îÄ‚îÄ dons.html                    # Brandon modifie
‚îú‚îÄ‚îÄ styles.css                   # Commun (d√©j√† fait)
‚îî‚îÄ‚îÄ ... (autres fichiers JS)
```

---

## ‚úÖ CHECKLIST FINALE (T+80 min)

### Doneli - Module Villes
- [ ] Tables region + ville cr√©√©es
- [ ] 2 Models fonctionnels
- [ ] 7 routes API test√©es
- [ ] Page villes.html affiche les donn√©es de l'API
- [ ] Formulaire ajout ville fonctionne

### Itokiana - Module Besoins
- [ ] Tables typeDon + article + besoin cr√©√©es
- [ ] 3 Models fonctionnels
- [ ] 8 routes API test√©es
- [ ] Page besoins.html affiche les donn√©es de l'API
- [ ] CRUD complet fonctionne

### Brandon - Module Dons
- [ ] Table don cr√©√©e
- [ ] Configuration Flight PHP OK
- [ ] DonModel fonctionnel
- [ ] 6 routes API test√©es
- [ ] Page dons.html affiche les donn√©es de l'API
- [ ] Dashboard affiche donn√©es r√©elles

---

## üéØ R√àGLES D'OR

1. **Ne pas attendre les autres** : Chacun travaille sur son module
2. **Tester au fur et √† mesure** : Ne pas attendre la fin
3. **Documenter rapidement** : Commentaires dans le code
4. **Communiquer les blocages** : Demander de l'aide imm√©diatement
5. **Respecter les conventions** : Nommage coh√©rent pour tous

---

## üöÄ COMMANDES UTILES

### D√©marrage serveur Flight PHP
```bash
php -S localhost:8000 index.php
```

### Test rapide API
```bash
# Test GET
curl http://localhost:8000/api/villes

# Test POST
curl -X POST http://localhost:8000/api/besoins \
  -H "Content-Type: application/json" \
  -d '{"idVille":1,"idArticle":1,"quantite":100}'
```

---

## üéì R√âSULTAT ATTENDU APR√àS 1H20

‚úÖ Application compl√®te fonctionnelle avec :
- Backend API REST complet (21 routes)
- Frontend int√©gr√© avec vraies donn√©es
- 3 modules ind√©pendants qui communiquent
- Base de donn√©es op√©rationnelle
- CRUD fonctionnel sur toutes les entit√©s

**Chaque personne ma√Ætrise sa fonctionnalit√© de bout en bout !**

---

**Bon courage ! Vous avez 1h20 pour briller ! üí™‚ö°**

*Version 1 - 16 f√©vrier 2026*
